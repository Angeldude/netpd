#N canvas 590 128 495 262 10;
#N canvas 358 44 232 318 unpatch 1;
#X obj 5 7 cnv 5 207 297 empty empty empty 20 12 0 14 -1 -66577 0;
#X obj 6 64 cnv 12 205 13 empty \$0.gui.bg1 empty 5 6 1 9 -199731 -1
0;
#X obj 6 8 cnv 13 205 13 empty \$0.gui.title empty 5 8 1 12 -199731
-1 0;
#X obj 6 22 cnv 12 205 13 empty \$0.gui.bg2 empty 5 6 1 10 -224635
-1 0;
#X obj 6 234 cnv 12 205 13 empty \$0.gui.bg1 empty 5 6 1 9 -199731
-1 0;
#X obj 6 78 cnv 12 205 13 empty \$0.gui.bg2 close/code/visualize 2
8 1 10 -224635 -1 0;
#X obj 6 107 unpatch-gui-row \$0 1;
#X obj 202 92 netpd-scrollbar \$0.scrollbar 10 141 10;
#X obj 6 93 unpatch-gui-row \$0 0;
#X obj 6 121 unpatch-gui-row \$0 2;
#X obj 6 135 unpatch-gui-row \$0 3;
#X obj 6 149 unpatch-gui-row \$0 4;
#X obj 6 163 unpatch-gui-row \$0 5;
#X obj 6 177 unpatch-gui-row \$0 6;
#X obj 6 191 unpatch-gui-row \$0 7;
#X obj 6 205 unpatch-gui-row \$0 8;
#X obj 6 219 unpatch-gui-row \$0 9;
#X obj 6 248 unpatch-status-display \$0.upload.status upload;
#X obj 6 276 unpatch-status-display \$0.download.status download;
#X obj 5 36 unpatch-netload-gui \$0.netload;
#X restore 220 64 pd unpatch;
#N canvas 625 53 527 583 unpatch_download 0;
#X obj 9 72 r \$0.receive;
#X obj 9 186 t a a;
#X obj 9 274 list append;
#N canvas 804 137 277 452 bang.if.needs.download 0;
#X obj 11 202 netpd-if-file;
#X obj 11 90 route abstraction patch;
#X obj 11 112 list;
#X obj 78 113 list;
#X msg 11 155 ../abs/\$1.pd;
#X msg 78 135 ../patches/\$1.pd;
#X obj 11 272 netpd-version;
#X obj 11 177 t a a;
#X obj 11 224 sel 1 0;
#X obj 11 246 list append;
#X obj 11 316 netpd-version-compare;
#X obj 11 38 t a a;
#X obj 38 59 list split 2;
#X obj 11 403 outlet;
#X obj 11 338 sel -1 1;
#X text 59 403 <- bang if download is needed;
#X obj 11 10 inlet;
#X obj 11 294 t a a;
#X obj 134 294 t a a;
#X obj 180 294 t a;
#N canvas 494 134 387 401 local_is_newer_message 0;
#X obj 26 53 list append;
#X obj 26 78 list append;
#X text 96 38 local version;
#X text 112 58 remote version;
#X obj 26 100 list prepend;
#X text 132 80 type & name;
#X obj 26 122 list prepend /error remote_version_newer;
#X obj 26 145 list prepend;
#X obj 108 144 r \$0.sender;
#X obj 26 187 s \$0.send;
#X text 94 186 send error message to peer if local;
#X text 95 200 version is newer;
#X obj 26 8 inlet;
#X obj 89 10 inlet;
#X obj 145 12 inlet;
#X obj 220 10 inlet;
#X obj 25 241 r \$0.receive;
#X obj 25 263 routeOSC /error;
#X obj 25 285 route remote_version_newer;
#X obj 25 307 list;
#X obj 25 367 netpd-error unpatch;
#X obj 26 167 list append;
#X msg 25 329 \$1 \$2: found newer version (\$3 \$4 \$5) on peer \$9
(local version: \$6 \$7 \$8);
#X obj 110 166 r \$0.socket;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 4 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 21 0;
#X connect 8 0 7 1;
#X connect 12 0 0 0;
#X connect 13 0 0 1;
#X connect 14 0 1 1;
#X connect 15 0 4 1;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 22 0;
#X connect 21 0 9 0;
#X connect 22 0 20 0;
#X connect 23 0 21 1;
#X restore 33 369 pd local_is_newer_message;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 17 0;
#X connect 7 0 0 0;
#X connect 7 1 9 1;
#X connect 8 0 9 0;
#X connect 8 1 13 0;
#X connect 9 0 6 0;
#X connect 10 0 14 0;
#X connect 11 0 1 0;
#X connect 11 1 12 0;
#X connect 12 0 19 0;
#X connect 12 1 18 0;
#X connect 14 0 13 0;
#X connect 14 1 20 0;
#X connect 16 0 11 0;
#X connect 17 0 10 0;
#X connect 17 1 20 1;
#X connect 18 0 10 1;
#X connect 18 1 20 2;
#X connect 19 0 20 3;
#X restore 9 249 pd bang.if.needs.download;
#X obj 9 321 list trim;
#X msg 79 348 msg patch load \$1 \$2;
#X obj 9 500 s \$0.UNPATCH;
#X text 18 468 finally load patch \, if all dependencies;
#X text 17 481 are fulfilled;
#X text 13 10 Check if we're missing some dependencies of patch being
netloaded. Check for existence of given abstractions and versions of
abstractions and the patch.;
#X obj 9 158 route slot;
#X msg 36 227 \$1 \$2;
#X obj 84 184 t a;
#X obj 9 299 list append 0;
#X text 97 301 <type> <name> <slot>;
#X obj 9 116 t a a;
#X obj 79 117 t a a;
#X obj 233 167 spigot;
#X obj 233 189 print DEBUG/DOWNLOAD;
#X obj 266 132 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 9 426 unpatch-batch-download /unpatch \$0.UNPATCH;
#X obj 36 206 list;
#X obj 251 272 r \$0.receive;
#X obj 251 294 routeOSC /netclose;
#X text 250 376 pass the the batch download in order to;
#X obj 251 315 t a a;
#X text 249 363 let also the close message;
#X text 171 247 <- file existence and version checks;
#X text 250 390 keep the order of load and close msgs;
#X text 249 402 consistent.;
#X obj 279 542 netpd-error unpatch;
#X obj 279 423 route bang status;
#X msg 279 520 no peer found to download patches from;
#X obj 328 449 list prepend statusmsg;
#X obj 328 471 list trim;
#X obj 328 493 s \$0.UNPATCH;
#X msg 251 337 msg patch close \$1 \$2;
#X obj 9 94 routeOSC /check /netload;
#X obj 150 173 t a a;
#X msg 150 326 msg synced;
#X obj 150 115 routeOSC /synced;
#X connect 0 0 37 0;
#X connect 1 0 3 0;
#X connect 1 1 21 0;
#X connect 2 0 13 0;
#X connect 3 0 2 0;
#X connect 4 0 20 0;
#X connect 5 0 20 0;
#X connect 10 0 12 0;
#X connect 10 1 1 0;
#X connect 11 0 2 1;
#X connect 12 0 13 1;
#X connect 13 0 4 0;
#X connect 15 0 10 0;
#X connect 15 1 17 0;
#X connect 16 0 5 0;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 19 0 17 1;
#X connect 20 0 6 0;
#X connect 20 1 31 0;
#X connect 21 0 11 0;
#X connect 22 0 23 0;
#X connect 23 0 25 0;
#X connect 25 0 36 0;
#X connect 25 1 17 0;
#X connect 31 0 32 0;
#X connect 31 1 33 0;
#X connect 32 0 30 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 20 0;
#X connect 37 0 15 0;
#X connect 37 1 16 0;
#X connect 37 2 40 0;
#X connect 38 0 39 0;
#X connect 38 1 17 0;
#X connect 39 0 20 0;
#X connect 40 0 38 0;
#X restore 17 110 pd unpatch_download;
#N canvas 618 574 169 83 version 0;
#X obj 18 14 r up.getversion;
#X msg 18 34 2.0.-2;
#X obj 18 55 s up.version;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 22 230 pd version;
#X msg 220 97 label empty;
#X text 14 10 UNPATCH www.netpd.org;
#N canvas 502 286 437 371 singletons-container 0;
#X obj 34 76 s cr.singletons;
#X obj 34 97 r cr.singletons;
#X obj 34 118 route yesiamthere;
#X msg 34 55 areyouthere;
#X obj 18 5 loadbang;
#X obj 18 142 f;
#X obj 18 28 t b b b;
#N canvas 19 459 336 145 \$0-singletons 0;
#X obj 8 79 s cr.singletons;
#X obj 8 14 r cr.singletons;
#X obj 8 35 route areyouthere;
#X msg 8 58 yesiamthere 1;
#N canvas 0 0 450 300 cr.singletons 0;
#X restore 8 100 pd cr.singletons;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X restore 18 345 pd \$0-singletons;
#X obj 18 318 s pd-\$0-singletons;
#X obj 18 165 sel 0;
#X msg 18 186 obj 8 79 s cr.singletons \, obj 8 14 r cr.singletons
\, obj 8 35 route areyouthere \, msg 8 58 yesiamthere 1 \, obj 8 100
pd cr.singletons \, connect 1 0 2 0 \, connect 2 0 3 0 \, connect 3
0 0 0 \; pd-cr.singletons vis 0 \;;
#X obj 242 21 r \$0-clean;
#X msg 242 43 clear;
#X obj 242 93 s pd-\$0-singletons;
#X connect 1 0 2 0;
#X connect 2 0 5 1;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 9 0;
#X connect 6 0 5 0;
#X connect 6 1 3 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X restore 322 89 pd singletons-container;
#X text 15 24 Author: Roman Haefeli <roman@netpd.org>;
#X msg 220 147 \; pd-unpatch.pd loadbang;
#N canvas 617 53 696 360 unpatch_patch_manager 0;
#X obj 14 75 netpd-hash;
#X obj 14 10 r \$0.UNPATCH;
#X obj 14 142 s \$0.UNPATCH;
#X obj 14 96 list prepend patchlist out;
#X obj 14 118 list trim;
#X obj 222 151 pack f s;
#X floatatom 222 132 5 0 0 0 - - -;
#X symbolatom 263 132 10 0 0 0 - - -;
#X obj 14 32 route patchlist;
#X obj 14 54 route in;
#X msg 193 100 1 eins \, 2 zwei \, 3 drei \, 4 vier \, 5 fuenf \, 6
sechs \, 7 sieben \, 8 acht \, 9 neun \, 10 zehn \, 11 elf \, 12 zwoelf
;
#N canvas 778 147 198 360 sync.length 0;
#X msg 41 103 patchlist in getlength;
#X obj 14 82 t b b;
#X obj 41 125 s \$0.UNPATCH;
#X obj 41 147 r \$0.UNPATCH;
#X obj 41 169 route patchlist;
#X obj 41 191 route out;
#X obj 41 275 s \$0.scrollbar;
#X obj 14 211 list;
#X msg 41 254 set totallength \$1;
#X obj 14 233 t a a;
#X obj 14 16 r \$0.UNPATCH;
#X obj 14 38 route patchlist;
#X obj 14 60 route synclength;
#X msg 14 299 patchlist length \$1;
#X obj 14 321 s \$0.UNPATCH;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 1 1 0 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 6 0;
#X connect 9 0 13 0;
#X connect 9 1 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X restore 15 215 pd sync.length;
#X obj 193 213 s \$0.UNPATCH;
#N canvas 217 53 332 469 add.patch 0;
#X obj 42 137 s \$0.UNPATCH;
#X msg 42 117 patchlist in append \$1 \$2;
#X obj 15 94 t b a;
#X obj 15 158 t b b;
#X obj 42 201 s \$0.UNPATCH;
#X obj 42 223 r \$0.UNPATCH;
#X obj 42 245 route patchlist;
#X obj 15 375 s \$0.scrollbar;
#X obj 15 287 list;
#X obj 15 308 - 10;
#X msg 15 352 set pos \$1;
#X obj 15 329 max 0;
#X msg 42 179 patchlist synclength;
#X obj 42 267 route length;
#X obj 15 7 r \$0.UNPATCH;
#X obj 15 73 list;
#X obj 15 29 route patch;
#X obj 15 51 route load;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 1 1 0;
#X connect 3 0 8 0;
#X connect 3 1 12 0;
#X connect 5 0 6 0;
#X connect 6 0 13 0;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 10 0 7 0;
#X connect 11 0 10 0;
#X connect 12 0 4 0;
#X connect 13 0 8 1;
#X connect 14 0 16 0;
#X connect 15 0 2 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X restore 15 172 pd add.patch;
#N canvas 847 212 246 395 scroll.logic 0;
#X obj 34 124 s \$0.UNPATCH;
#X msg 34 104 patchlist in getrange \$1 10;
#X obj 34 147 r \$0.UNPATCH;
#X obj 34 191 route patchlist;
#X obj 34 213 route out;
#X obj 34 169 spigot;
#X msg 51 79 1;
#X msg 17 81 0;
#X obj 34 261 t a b;
#X obj 61 284 f;
#X obj 105 285 + 1;
#X obj 34 313 list prepend;
#X obj 17 55 t b a b b;
#X msg 132 254 0;
#X obj 34 357 s \$0.UNPATCH;
#X obj 17 11 r \$0.scrollbar;
#X obj 17 33 route pos;
#N canvas 719 128 172 344 nice.labels 0;
#X obj 28 207 makefilename %c;
#X obj 11 230 list append;
#X obj 28 163 loadbang;
#X msg 28 185 32;
#X obj 11 31 unpack f s;
#X obj 11 252 list append;
#X msg 11 274 symbol \$1\$2\$3;
#X obj 68 54 sel empty;
#X msg 68 106 symbol empty;
#X obj 11 107 spigot;
#X msg 44 83 0;
#X msg 82 80 1;
#X obj 11 9 inlet;
#X obj 11 296 outlet;
#X obj 11 136 makefilename %3d;
#X connect 0 0 1 1;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 9 0;
#X connect 4 1 7 0;
#X connect 5 0 6 0;
#X connect 6 0 13 0;
#X connect 7 0 8 0;
#X connect 7 0 10 0;
#X connect 7 1 11 0;
#X connect 7 1 5 1;
#X connect 8 0 13 0;
#X connect 9 0 14 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 4 0;
#X connect 14 0 1 0;
#X restore 34 238 pd nice.labels;
#X msg 34 335 gui.row \$1 label \$2;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 17 0;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 11 0;
#X connect 8 1 9 0;
#X connect 9 0 10 0;
#X connect 9 0 11 1;
#X connect 10 0 9 1;
#X connect 11 0 18 0;
#X connect 12 0 7 0;
#X connect 12 1 1 0;
#X connect 12 2 6 0;
#X connect 12 3 13 0;
#X connect 13 0 9 1;
#X connect 15 0 16 0;
#X connect 16 0 12 0;
#X connect 17 0 8 0;
#X connect 18 0 14 0;
#X restore 15 193 pd scroll.logic;
#N canvas 753 408 253 632 close.patch 0;
#X obj 12 -221 r \$0.UNPATCH;
#X obj 12 -199 route gui.row;
#X obj 12 -177 route button;
#X obj 12 -155 route close;
#X obj 27 -133 r \$0.scrollbar;
#X obj 27 -111 route pos;
#X obj 12 -89 +;
#X msg 39 -46 patchlist in getbypos \$1;
#X obj 39 -25 s \$0.UNPATCH;
#X obj 33 -4 r \$0.UNPATCH;
#X obj 33 20 route patchlist;
#X obj 33 42 route out;
#X obj 12 63 list;
#X obj 29 266 s \$0.UNPATCH;
#X obj 10 291 f;
#X obj 48 293 r \$0.scrollbar;
#X obj 48 315 route pos;
#X msg 10 340 set pos \$1;
#X obj 10 362 s \$0.scrollbar;
#X msg 29 239 patchlist synclength;
#X obj 12 107 s \$0.send;
#X obj 12 -67 t b a;
#X obj 10 128 r \$0.UNPATCH;
#X obj 10 150 route patch;
#X obj 10 172 route close;
#X obj 10 194 t b b a;
#X msg 49 215 patchlist in drop \$1;
#X msg 12 85 b /netclose \$1 \$2;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 21 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 1;
#X connect 12 0 27 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 17 0 18 0;
#X connect 19 0 13 0;
#X connect 21 0 12 0;
#X connect 21 1 7 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 14 0;
#X connect 25 1 19 0;
#X connect 25 2 26 0;
#X connect 26 0 13 0;
#X connect 27 0 20 0;
#X restore 15 236 pd close.patch;
#N canvas 756 268 236 366 show.gui 0;
#X obj 12 -221 r \$0.UNPATCH;
#X obj 12 -199 route gui.row;
#X obj 12 -177 route button;
#X obj 27 -133 r \$0.scrollbar;
#X obj 27 -111 route pos;
#X obj 12 -89 +;
#X msg 39 -46 patchlist in getbypos \$1;
#X obj 39 -25 s \$0.UNPATCH;
#X obj 33 -4 r \$0.UNPATCH;
#X obj 33 20 route patchlist;
#X obj 33 42 route out;
#X obj 12 63 list;
#X obj 12 -67 t b a;
#X obj 12 -155 route visgui;
#X obj 12 107 s \$0.UNPATCH;
#X msg 12 85 patch showgui \$1 \$2;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 1;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 15 0 14 0;
#X restore 15 256 pd show.gui;
#N canvas 756 240 236 363 show.code 0;
#X obj 12 -221 r \$0.UNPATCH;
#X obj 12 -199 route gui.row;
#X obj 12 -177 route button;
#X obj 27 -133 r \$0.scrollbar;
#X obj 27 -111 route pos;
#X obj 12 -89 +;
#X msg 39 -46 patchlist in getbypos \$1;
#X obj 39 -25 s \$0.UNPATCH;
#X obj 33 -4 r \$0.UNPATCH;
#X obj 33 20 route patchlist;
#X obj 33 42 route out;
#X obj 12 63 list;
#X obj 12 -67 t b a;
#X obj 12 -155 route vismain;
#X obj 12 107 s \$0.UNPATCH;
#X msg 12 85 patch showcode \$1 \$2;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 1;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 15 0 14 0;
#X restore 15 277 pd show.code;
#X text 194 82 ---------- testing ---------------------------------------
;
#N canvas 1093 72 284 177 set.scrollbar.colors 0;
#X obj -100 14 netpd-pref-get cr.display.clr 1;
#X msg -100 37 set frontcolor \$1 \$2 \$3;
#X obj -100 59 s \$0.scrollbar;
#X obj -99 137 s \$0.scrollbar;
#X msg -99 115 set bgcolor \$1 \$2 \$3;
#X obj -99 92 netpd-pref-get cr.background2.clr 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X restore 235 21 pd set.scrollbar.colors;
#X obj 373 149 r \$0.UNPATCH;
#X obj 373 171 route patch;
#X msg 193 191 patch load \$1 \$2;
#X obj 373 192 route showgui showcode;
#X msg 373 268 \; pd-\$1-\$2 vis 0 \; pd-\$1-\$2 vis 1;
#X msg 437 218 \; pd-\$2.pd vis 0 \; pd-\$2.pd vis 1;
#X connect 0 0 3 0;
#X connect 1 0 8 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 22 0;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X connect 8 0 9 0;
#X connect 9 0 0 0;
#X connect 10 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 23 0;
#X connect 22 0 12 0;
#X connect 23 0 24 0;
#X connect 23 1 25 0;
#X restore 17 136 pd unpatch_patch_manager;
#X text 286 64 GUI;
#N canvas 310 57 352 220 unpatch_communication 0;
#X obj 35 173 netpd-s /unpatch;
#X obj 35 15 r \$0.send;
#X obj 35 37 list;
#X obj 35 98 list split 1;
#X obj 35 59 t a a;
#X msg 128 101 \$1;
#X obj 35 133 list prepend OSC;
#X obj 35 153 list trim;
#X obj 182 18 netpd-r /unpatch;
#X obj 182 77 s \$0.receive;
#X obj 199 54 s \$0.sender;
#X obj 177 160 s \$0.socket;
#X obj 177 139 netpd-status-get socket 1;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 0 1;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 12 0 11 0;
#X restore 319 38 pd unpatch_communication;
#N canvas 727 575 226 262 unpatch_gui_stuff 0;
#N canvas 531 127 450 300 title 0;
#X obj 41 67 s up.getversion;
#X obj 41 90 r up.version;
#X obj 22 21 loadbang;
#X obj 41 112 list;
#X obj 22 139 list;
#X msg 91 114 32;
#X obj 91 136 makefilename %c;
#X obj 22 43 t b b b;
#X obj 22 161 list prepend;
#X obj 22 183 list prepend UNPATCH;
#X msg 22 205 label \$1\$2\$3;
#X obj 22 227 s \$0.gui.title;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 4 1;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 7 0 4 0;
#X connect 7 1 0 0;
#X connect 7 2 5 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X restore 16 70 pd title;
#N canvas 292 194 450 300 row.colors 0;
#X obj 43 83 s \$0.gui.title;
#X obj 44 150 s \$0.gui.bg1;
#X obj 191 22 netpd-pref-get cr.background1.clr 1;
#X obj 191 72 netpd-pref-get cr.background2.clr 1;
#X obj 190 123 netpd-pref-get cr.label.clr 1;
#X obj 43 263 s \$0.gui.bg2;
#X obj 191 44 netpd-rgb2iem;
#X obj 190 144 netpd-rgb2iem;
#X obj 43 18 t b a;
#X obj 43 40 pack f f;
#X msg 43 62 color \$1 \$2;
#X obj 191 95 netpd-rgb2iem;
#X obj 43 192 t b a;
#X obj 43 214 pack f f;
#X msg 43 236 color \$1 \$2;
#X msg 44 127 color \$1 -1;
#X connect 2 0 6 0;
#X connect 3 0 11 0;
#X connect 4 0 7 0;
#X connect 6 0 9 0;
#X connect 6 0 15 0;
#X connect 7 0 8 0;
#X connect 7 0 12 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 10 0;
#X connect 10 0 0 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 14 0;
#X connect 14 0 5 0;
#X connect 15 0 1 0;
#X restore 17 20 pd row.colors;
#N canvas 981 213 220 162 row.fonts 0;
#X obj 18 36 s \$0.gui.bg2;
#X obj 18 -6 netpd-pref-get cr.label.fnt 1;
#X obj 19 63 netpd-pref-get cr.title.fnt 1;
#X obj 19 106 s \$0.gui.title;
#X msg 19 85 label_font \$1 \$2;
#X msg 18 15 label_font \$1 \$2;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X restore 17 45 pd row.fonts;
#N canvas 614 44 411 505 download.upload.status 0;
#X obj 5 3 r \$0.UNPATCH;
#X obj 5 25 route statusmsg;
#X obj 32 68 list;
#X obj 5 47 t a a;
#X obj 32 111 route abstraction patch;
#X msg 32 132 a;
#X msg 99 132 p;
#X obj 5 157 list append;
#X obj 5 179 list trim;
#X obj 5 202 route upload download;
#X obj 5 232 route begin end;
#X obj 171 237 route request begin end;
#X obj 5 369 t a a;
#X obj 171 382 t a a;
#X obj 5 254 list;
#X obj 48 256 list;
#X obj 171 262 list;
#X obj 216 261 list;
#X obj 261 261 list;
#X msg 32 89 \$4;
#X msg 19 290 uploaded \$3(\$4) to \$1;
#X msg 5 314 uploading \$3(\$4) to \$1;
#X msg 261 289 saved \$2 \$3;
#X msg 216 324 downloading \$3(\$4) from \$1;
#X msg 171 355 waiting for \$1 to send_\$3(\$4);
#X obj 5 452 s \$0.upload.status;
#X obj 171 460 s \$0.download.status;
#N canvas 1097 176 450 300 load.patch 0;
#X obj 16 10 r \$0.UNPATCH;
#X obj 16 32 route patch;
#X obj 17 150 t a b a;
#X obj 36 193 list;
#X obj 36 172 del 0;
#X obj 17 271 s \$0.download.status;
#X obj 16 54 route load;
#X obj 16 106 route loading.. loading...;
#X obj 17 130 list;
#X msg 16 76 \$2 \$1;
#X msg 36 215 loaded \$2.\$1;
#X msg 17 243 loading \$2.\$1...;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 11 0;
#X connect 2 1 4 0;
#X connect 2 2 3 1;
#X connect 3 0 10 0;
#X connect 4 0 3 0;
#X connect 6 0 9 0;
#X connect 7 2 8 0;
#X connect 8 0 2 0;
#X connect 9 0 7 0;
#X connect 10 0 5 0;
#X connect 11 0 5 0;
#X restore 194 27 pd load.patch;
#N canvas 933 232 260 255 close.patch 0;
#X obj 16 10 r \$0.UNPATCH;
#X obj 16 32 route patch;
#X obj 17 184 s \$0.download.status;
#X obj 16 106 route loading.. loading...;
#X obj 17 130 list;
#X msg 16 76 \$2 \$1;
#X obj 16 54 route close;
#X msg 17 156 closed \$2.\$1;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 3 2 4 0;
#X connect 4 0 7 0;
#X connect 5 0 3 0;
#X connect 6 0 5 0;
#X connect 7 0 2 0;
#X restore 194 50 pd close.patch;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 19 0;
#X connect 3 0 7 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 7 1;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 10 0 14 0;
#X connect 10 1 15 0;
#X connect 11 0 16 0;
#X connect 11 1 17 0;
#X connect 11 2 18 0;
#X connect 12 0 25 0;
#X connect 13 0 26 0;
#X connect 14 0 21 0;
#X connect 15 0 20 0;
#X connect 16 0 24 0;
#X connect 17 0 23 0;
#X connect 18 0 22 0;
#X connect 19 0 4 0;
#X connect 20 0 12 0;
#X connect 21 0 12 0;
#X connect 22 0 13 0;
#X connect 23 0 13 0;
#X connect 24 0 13 0;
#X restore 15 98 pd download.upload.status;
#X restore 17 162 pd unpatch_gui_stuff;
#X obj 220 118 s \$0.gui.title;
#N canvas 479 86 427 522 unpatch_patch_containers 0;
#N canvas 520 142 219 194 load.patch 0;
#X obj 7 8 r \$0.UNPATCH;
#X obj 7 30 route patch;
#X obj 7 52 route load;
#X obj 7 104 route loading.. loading...;
#X obj 9 128 list;
#X msg 7 74 \$2 \$1;
#X obj 9 171 outlet;
#X msg 9 150 \$2 \$1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 2 4 0;
#X connect 4 0 7 0;
#X connect 5 0 3 0;
#X connect 7 0 6 0;
#X restore 35 12 pd load.patch;
#X obj 35 34 t a a;
#N canvas 930 282 272 428 \$0.container.container 0;
#X restore 103 389 pd \$0.container.container;
#X obj 106 323 s pd-\$0.container.container;
#X msg 125 293 clear;
#X obj 62 142 f;
#X obj 62 164 + 1;
#X obj 62 184 t a a;
#X obj 62 206 * 20;
#X obj 62 228 list append \$0;
#X obj 62 250 list append;
#X obj 62 77 -;
#X msg 62 56 \$1;
#X obj 62 98 moses 1;
#X obj 62 120 until;
#X text 110 136 create patch.containers;
#X text 110 151 when needed;
#X msg 62 272 obj 10 \$1 pd \$2.patch.container.\$3;
#X obj 62 294 t a a;
#X obj 62 320 list;
#X msg 62 346 \; pd-\$5 vis 0;
#X obj 35 420 list append \$0;
#N canvas 1089 174 196 210 close.patch 0;
#X obj 16 10 r \$0.UNPATCH;
#X obj 16 32 route patch;
#X obj 16 106 route loading.. loading...;
#X obj 17 130 list;
#X msg 16 76 \$2 \$1;
#X obj 16 54 route close;
#X msg 17 152 \$2 \$1;
#X obj 17 174 outlet;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 2 3 0;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X restore 158 15 pd close.patch;
#X obj 158 46 list append \$0;
#X msg 158 68 \; pd-\$3.patch.container.\$1 clear;
#X msg 35 442 \; pd-\$3.patch.container.\$1 obj 10 20 ../patches/\$2
\$1 \; pd-\$1-\$2 vis 0 \; pd-\$3.patch.container.\$1 loadbang \;;
#X obj 307 250 r \$0.gui.title;
#X obj 307 272 route label;
#X obj 307 294 route empty;
#X connect 0 0 1 0;
#X connect 1 0 21 0;
#X connect 1 1 12 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 10 1;
#X connect 7 1 11 1;
#X connect 7 1 5 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 17 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 13 1 14 0;
#X connect 14 0 5 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 3 0;
#X connect 19 0 20 0;
#X connect 21 0 25 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 4 0;
#X restore 165 201 pd unpatch_patch_containers;
#N canvas 676 53 469 534 unpatch_netload 0;
#N canvas 503 194 525 452 negotiate.free.slot 0;
#X obj 24 108 s \$0.send;
#X obj 24 130 r \$0.receive;
#X obj 93 175 netpd-status-get socket 1;
#X obj 73 225 r \$0.sender;
#X msg 24 37 0;
#X msg 24 86 b /ifslotfree \$1;
#X obj 24 152 routeOSC /ifslotfree;
#N canvas 181 244 357 391 find.free.slot 0;
#X obj 27 19 inlet;
#X obj 27 88 f;
#X obj 27 111 + 1;
#X obj 27 64 until;
#X msg 46 155 patchlist in get \$1;
#X obj 46 177 s \$0.UNPATCH;
#X obj 46 198 r \$0.UNPATCH;
#X obj 46 220 route patchlist;
#X obj 46 242 route out;
#X obj 27 133 t b a a;
#X obj 27 265 list;
#X obj 27 287 sel empty;
#X obj 27 309 t b b;
#X obj 27 331 f;
#X obj 209 183 b;
#X obj 27 353 outlet;
#X obj 27 41 t b a;
#X text 88 21 try to find a free patch id \, starting from;
#X text 88 33 given number;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 2 0 9 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 10 1;
#X connect 9 0 10 0;
#X connect 9 1 4 0;
#X connect 9 2 13 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 15 0;
#X connect 14 0 3 1;
#X connect 16 0 3 0;
#X connect 16 1 1 1;
#X restore 24 62 pd find.free.slot;
#X obj 95 409 s \$0.UNPATCH;
#X obj 24 201 list prepend;
#X obj 24 227 route;
#N canvas 530 449 186 275 sanity.check 0;
#X obj 28 17 inlet;
#X obj 28 239 outlet;
#X msg 47 64 patchlist in get \$1;
#X obj 47 86 s \$0.UNPATCH;
#X obj 47 108 r \$0.UNPATCH;
#X obj 47 130 route patchlist;
#X obj 47 152 route out;
#X obj 28 173 list;
#X obj 28 43 t b a a;
#X obj 28 195 sel empty;
#X obj 28 217 f;
#X connect 0 0 8 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 8 1 2 0;
#X connect 8 2 10 1;
#X connect 9 0 10 0;
#X connect 10 0 1 0;
#X restore 51 269 pd sanity.check;
#X msg 95 386 patch load \$1 loading...;
#X msg 51 248 \$2;
#N canvas 520 234 194 279 sanity.check 0;
#X obj 28 17 inlet;
#X obj 28 239 outlet;
#X msg 47 64 patchlist in get \$1;
#X obj 47 86 s \$0.UNPATCH;
#X obj 47 108 r \$0.UNPATCH;
#X obj 47 130 route patchlist;
#X obj 47 152 route out;
#X obj 28 173 list;
#X obj 28 43 t b a a;
#X obj 28 195 sel empty;
#X obj 28 217 f;
#X obj 79 218 b;
#X obj 79 242 outlet;
#X connect 0 0 8 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 8 1 2 0;
#X connect 8 2 10 1;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 10 0 1 0;
#X connect 11 0 12 0;
#X restore 24 297 pd sanity.check;
#X obj 24 319 t a a;
#X obj 237 130 b;
#X obj 24 11 inlet;
#X obj 24 382 outlet;
#X text 109 248 reserve slot \, if remote peer performed the request
;
#X text 136 299 if origin is local \, proceed with netloading patch
;
#X msg 51 341 patch load \$1 loading..;
#X text 195 341 <- use a different symbol \, if is local;
#X text 213 355 in order to set 'readyness' for that slot;
#X connect 1 0 6 0;
#X connect 2 0 9 1;
#X connect 3 0 10 1;
#X connect 4 0 7 0;
#X connect 5 0 0 0;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 10 1 13 0;
#X connect 11 0 12 0;
#X connect 12 0 8 0;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 15 0 18 0;
#X connect 15 1 21 0;
#X connect 16 0 4 0;
#X connect 17 0 4 0;
#X connect 21 0 8 0;
#X restore 8 105 pd negotiate.free.slot;
#X obj 8 128 list append;
#N canvas 405 203 219 261 buffer 0;
#X obj 16 142 netpd-fifo;
#X obj 16 70 t b a;
#X obj 16 96 spigot 1;
#X obj 16 165 t a b;
#X msg 43 185 0;
#X msg 73 185 1;
#X obj 16 34 inlet;
#X obj 158 35 inlet;
#X obj 158 57 b;
#X obj 168 137 t a;
#X obj 16 217 outlet;
#X connect 0 0 3 0;
#X connect 0 1 5 0;
#X connect 1 0 2 0;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 3 0 10 0;
#X connect 3 1 4 0;
#X connect 4 0 9 0;
#X connect 5 0 9 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 9 0 2 1;
#X restore 8 60 pd buffer;
#X obj 8 82 t b a;
#X obj 27 245 netpd-dependencies;
#X msg 27 224 \$2;
#X obj 8 150 t a b;
#X obj 27 295 list trim;
#X obj 132 326 route bang;
#X msg 132 348 1;
#X msg 189 348 0;
#X obj 27 270 list prepend b /check;
#X msg 8 416 b /netload \$1 \$2;
#X obj 224 348 netpd-error unpatch;
#X obj 8 495 s \$0.send;
#X text 75 71 only process the next request \, if the previous has
been completed;
#X obj 8 172 t a a a;
#X text 108 294 /check <type> <name> <ver> <ver> <ver>;
#X text 157 194 /check slot <slot>;
#X obj 8 450 t a a;
#X obj 95 497 print DEBUG/UPLOAD;
#X obj 95 476 spigot;
#X obj 128 453 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 47 195 b /check slot \$1;
#X obj 8 346 list prepend;
#X obj 8 368 route 1 0;
#X msg 33 392 b /netclose \$1;
#X text 116 416 if all dependencies are satisfied \, load patch;
#X text 130 392 if dependency missing \, clear placeholder 'loading...'
;
#X text 171 248 and on success proceed to netloading patch;
#X text 171 236 resolve all dependencies of given patch;
#X text 144 242 <--;
#N canvas 765 86 297 214 from.netload.gui 0;
#X obj 25 154 outlet;
#X obj 25 11 r \$0.netload;
#X obj 25 79 netpd-if-file;
#X obj 25 33 t a a;
#X obj 25 131 symbol;
#X obj 125 131 symbol;
#X obj 25 101 sel 1 0;
#X msg 125 153 no such patch: \$1;
#X obj 125 175 netpd-error unpatch;
#X msg 25 55 symbol ../patches/\$1.pd;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 9 0;
#X connect 3 1 4 1;
#X connect 3 1 5 1;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 6 0 4 0;
#X connect 6 1 5 0;
#X connect 7 0 8 0;
#X connect 9 0 2 0;
#X restore 8 15 pd from.netload.gui;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 1 1;
#X connect 4 0 11 0;
#X connect 4 1 8 0;
#X connect 5 0 4 0;
#X connect 6 0 16 0;
#X connect 6 1 2 1;
#X connect 7 0 19 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 8 1 13 0;
#X connect 9 0 24 1;
#X connect 10 0 24 1;
#X connect 11 0 7 0;
#X connect 12 0 19 0;
#X connect 16 0 24 0;
#X connect 16 1 5 0;
#X connect 16 2 23 0;
#X connect 19 0 14 0;
#X connect 19 1 21 0;
#X connect 21 0 20 0;
#X connect 22 0 21 1;
#X connect 23 0 19 0;
#X connect 24 0 25 0;
#X connect 25 0 12 0;
#X connect 25 1 26 0;
#X connect 26 0 19 0;
#X connect 32 0 2 0;
#X restore 17 84 pd unpatch_netload;
#N canvas 649 212 224 200 unpatch_sync 0;
#N canvas 592 156 277 215 post.sync.request 0;
#X obj 12 99 netpd-find-sync /unpatch;
#X obj 12 23 loadbang;
#X msg 12 129 \$1 /patchlist/request;
#X obj 12 149 s \$0.send;
#X msg 12 45 unready \, find;
#X obj 120 18 r \$0.UNPATCH;
#X obj 120 40 route synced;
#X msg 120 68 ready;
#X connect 0 0 2 0;
#X connect 0 1 7 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X restore 16 34 pd post.sync.request;
#N canvas 680 44 397 547 post.sync.supply 0;
#X msg 39 50 patchlist in getall;
#X obj 39 72 s \$0.UNPATCH;
#X obj 39 94 r \$0.UNPATCH;
#X obj 39 138 route out;
#X obj 40 188 spigot;
#X msg 56 161 1;
#X msg 22 162 0;
#X obj 39 116 route patchlist;
#X obj 5 -17 r \$0.receive;
#X obj 5 5 routeOSC /patchlist/request;
#X obj 57 300 netpd-dependencies;
#X obj 57 368 list trim;
#X obj 40 210 list prepend;
#X obj 109 170 r \$0.sender;
#X msg 74 253 \$1 /check slot \$2;
#X msg 57 279 \$3;
#X obj 57 325 list prepend /check;
#X obj 57 347 list prepend;
#X msg 126 276 \$1;
#X obj 40 232 t a a a a;
#X msg 40 396 \$1 /netload \$2 \$3;
#X obj 175 300 route bang;
#X obj 244 300 netpd-error unpatch;
#X obj 40 476 s \$0.send;
#X obj 40 455 t a;
#X obj 5 28 t b b b b;
#X obj 5 232 f;
#X msg 5 418 \$1 /synced;
#X connect 0 0 1 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 3 0;
#X connect 8 0 9 0;
#X connect 9 0 25 0;
#X connect 10 0 16 0;
#X connect 10 1 21 0;
#X connect 11 0 24 0;
#X connect 12 0 19 0;
#X connect 13 0 12 1;
#X connect 13 0 26 1;
#X connect 14 0 24 0;
#X connect 15 0 10 0;
#X connect 16 0 17 0;
#X connect 17 0 11 0;
#X connect 18 0 17 1;
#X connect 19 0 20 0;
#X connect 19 1 15 0;
#X connect 19 2 14 0;
#X connect 19 3 18 0;
#X connect 20 0 24 0;
#X connect 21 1 22 0;
#X connect 24 0 23 0;
#X connect 25 0 26 0;
#X connect 25 1 6 0;
#X connect 25 2 0 0;
#X connect 25 3 5 0;
#X connect 26 0 27 0;
#X connect 27 0 24 0;
#X restore 16 59 pd post.sync.supply;
#X restore 18 189 pd unpatch_sync;
#N canvas 456 325 199 95 unpatch_version_compare 0;
#N canvas 457 340 385 255 tell_version 0;
#X obj 20 16 r netpd-receive;
#X obj 20 54 route cr.getversion;
#X text 140 16 [remotesocket];
#X obj 20 77 t a b;
#X obj 50 104 s cr.getversion;
#X obj 50 124 r cr.version;
#X obj 164 124 r netpd-socket;
#X obj 20 173 pack f s f;
#X obj 50 146 list;
#X text 101 175 [remotesocket] [version] [selfsocket];
#X msg 20 199 \$1 cr.version \$2 \$3;
#X obj 20 222 s netpd-send;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 7 0;
#X connect 3 1 4 0;
#X connect 5 0 8 0;
#X connect 6 0 7 2;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 10 0 11 0;
#X restore 11 34 pd tell_version;
#N canvas 521 338 250 170 request_version 0;
#X obj 22 17 r netpd-socket;
#X obj 22 55 spigot 1;
#X obj 22 81 t a b;
#X obj 103 72 0;
#X msg 22 104 cr.getversion \$1;
#X obj 22 128 s netpd-broadcast;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X restore 11 13 pd request_version;
#N canvas 509 368 405 374 compare_version 0;
#X obj 9 8 r netpd-receive;
#X obj 9 31 route cr.version;
#N canvas 786 69 369 735 versioncompare 0;
#X obj 13 7 inlet;
#X obj 167 8 inlet;
#X obj 14 623 outlet;
#X obj 167 32 symbol;
#X obj 167 79 symbol2list .;
#X obj 13 78 symbol2list .;
#X obj 13 30 symbol;
#X text 214 7 remote version;
#X text 49 6 local version;
#X obj 13 52 t s s;
#X obj 31 147 unpack f f f;
#X obj 167 127 unpack f f f;
#X obj 61 200 <;
#X obj 14 494 f;
#X obj 31 198 ==;
#X obj 31 227 sel 1;
#X obj 91 277 f;
#X obj 116 329 <;
#X obj 91 329 ==;
#X obj 162 419 sel 1;
#X obj 162 442 f;
#X obj 184 491 <;
#X obj 167 55 t s s;
#X obj 14 518 t f f;
#X obj 94 201 >;
#X obj 94 224 * -1;
#X obj 142 332 >;
#X obj 142 355 * -1;
#X obj 31 172 t f f f;
#X obj 73 248 +;
#X obj 92 302 t f f f;
#X obj 116 381 +;
#X obj 211 492 >;
#X obj 211 515 * -1;
#X obj 185 541 +;
#X obj 162 467 t f f f;
#X obj 13 124 t b a b;
#X connect 0 0 6 0;
#X connect 1 0 3 0;
#X connect 3 0 22 0;
#X connect 4 0 11 0;
#X connect 5 0 36 0;
#X connect 6 0 9 0;
#X connect 9 0 5 0;
#X connect 10 0 28 0;
#X connect 10 1 16 1;
#X connect 10 2 20 1;
#X connect 11 0 12 1;
#X connect 11 0 14 1;
#X connect 11 0 24 1;
#X connect 11 1 17 1;
#X connect 11 1 18 1;
#X connect 11 1 26 1;
#X connect 11 2 21 1;
#X connect 11 2 32 1;
#X connect 12 0 29 0;
#X connect 13 0 23 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 30 0;
#X connect 17 0 31 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 35 0;
#X connect 21 0 34 0;
#X connect 22 0 4 0;
#X connect 23 0 2 0;
#X connect 24 0 25 0;
#X connect 25 0 29 1;
#X connect 26 0 27 0;
#X connect 27 0 31 1;
#X connect 28 0 14 0;
#X connect 28 1 12 0;
#X connect 28 2 24 0;
#X connect 29 0 13 1;
#X connect 30 0 18 0;
#X connect 30 1 17 0;
#X connect 30 2 26 0;
#X connect 31 0 13 1;
#X connect 32 0 33 0;
#X connect 33 0 34 1;
#X connect 34 0 13 1;
#X connect 35 1 21 0;
#X connect 35 2 32 0;
#X connect 36 0 13 0;
#X connect 36 1 10 0;
#X restore 9 163 pd versioncompare;
#X text 131 33 [version] [remotesocket];
#X obj 9 80 t a b a;
#X obj 9 55 list;
#X obj 123 141 r cr.version;
#X obj 123 122 s cr.getversion;
#X text 220 162 -1: remote is newer;
#X text 220 176 1: local is newer;
#X text 227 191 0: both are the same;
#X obj 9 189 sel -1 1;
#X msg 9 138 \$1;
#X obj 9 238 list;
#X obj 92 240 list;
#X msg 115 217 \$2;
#X obj 92 262 list append;
#N canvas 193 360 426 190 local_is_newer 0;
#X obj 98 48 r netpd-socket;
#X obj 12 153 s netpd-send;
#X msg 12 118 \$1 ch.msg UNPATCH found_unpatch_v\$2_on_socket_\$3.
0 \, \$1 ch.msg UNPATCH you_may_want_to_update_your_unpatch. 0;
#X obj 12 23 inlet;
#X obj 12 72 list append 0;
#X text 21 97 [remotesocket] [version] [selfsocket];
#X connect 0 0 4 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X restore 92 292 pd local_is_newer;
#N canvas 193 360 425 179 remote_is_newer 0;
#X obj 12 72 list prepend 0;
#X obj 105 45 r netpd-socket;
#X obj 12 131 s netpd-send;
#X msg 12 96 \$1 ch.msg UNPATCH found_unpatch_v\$2_on_socket_\$3. 0
\, \$1 ch.msg UNPATCH you_may_want_to_update_your_unpatch. 0;
#X obj 12 23 inlet;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X restore 9 328 pd remote_is_newer;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 11 0;
#X connect 4 0 12 0;
#X connect 4 1 7 0;
#X connect 4 2 13 1;
#X connect 4 2 15 0;
#X connect 5 0 4 0;
#X connect 6 0 2 1;
#X connect 6 0 16 1;
#X connect 11 0 13 0;
#X connect 11 1 14 0;
#X connect 12 0 2 0;
#X connect 13 0 18 0;
#X connect 14 0 16 0;
#X connect 15 0 14 1;
#X connect 16 0 17 0;
#X restore 11 55 pd compare_version;
#X restore 17 58 pd unpatch_version_compare;
#X connect 3 0 12 0;
